@inject ProductsDbService productService


<div class="messageBoxBackground" @onclick="buttonClose" />

<div class="messageBox">
	<div class="container errorContainerShadows">
		<div class="textHeader errorTextShadows addBottomBorder">
			Удалить продукт
		</div>

		<div class="textPlace textContent">
			Вы уверены, что хотите удалить продукт @productToDelete.productName
		</div>

		<div class="subContainer buttonUp">
			<button class="btn btn-danger fullScale" @onclick="DeleteProduct">
				Удалить
			</button>
			<button class="btn btn-primary fullScale" @onclick="()=>buttonClose.InvokeAsync()">
				Закрыть
			</button>
		</div>

	</div>
</div>

@code {
	[Parameter] public EventCallback buttonClose { get; set; }
	[Parameter] public EventCallback buttonDelete { get; set; }

	[Parameter] public Product productToDelete { get; set; }

	private async Task DeleteProduct()
	{
		await productService.DeleteProductAsync(productToDelete);
		await buttonClose.InvokeAsync();
		await buttonDelete.InvokeAsync();
	}



}
